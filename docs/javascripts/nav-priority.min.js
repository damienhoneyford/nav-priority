!function(window,document,undefined){"use strict";var Util={},throttled=!1;Util.throttle=function(callback,delay){throttled||(callback.call(),throttled=!0,setTimeout(function(){throttled=!1},delay))};var timeout;Util.debounce=function(callback,delay){timeout&&clearTimeout(timeout),timeout=setTimeout(callback,delay)},Util.extend=function(){for(var i=1;i<arguments.length;i++)for(var key in arguments[i])arguments[i].hasOwnProperty(key)&&(arguments[0][key]=arguments[i][key]);return arguments[0]},Util.isElement=function(obj){return!(!obj||1!==obj.nodeType)},window.Util=Util}(window,document),function(window,Util,document,undefined){"use strict";var delay=20,overflowItems=[],instances=[],NavPriority=function(element,options){if(this.options=options,this.element="string"==typeof element?document.querySelector(element):element,!Util.isElement(this.element))throw new Error("this.element has to be DOM Element");this.navList=this.element.querySelectorAll("ul")[0],this.overflowList=this.createOverflowList(),this.overflowDropdown=this.element.parentNode.querySelector("[data-nav-more]"),this.elementStyle=window.getComputedStyle(this.element),this.breakpoints=this.getBreakpoints(),this.reflowNavigation(),this.setupEventListeners()};NavPriority.DEFAULTS={dropdownLabel:'More <i class="caret"></i>',dropdownMenuClass:"dropdown-menu dropdown-menu-right",dropdownMenuTemplate:'<li class="navbar-nav-more dropdown" aria-hidden="true"><a id="{{dropdownMenuId}}" href="#" class="navbar-toggle-more" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" data-nav-more>{{dropdownLabel}}</a><ul class="{{dropdownMenuClass}}" aria-labelledby="{{dropdownMenuId}}"></ul></li>',containerWidthOffset:70},NavPriority.prototype.getBreakpoints=function(){for(var breakpoints=[],navListItems=this.navList.children,itemsLength=navListItems.length,dropdownMenuWidth=navListItems[itemsLength-1].getBoundingClientRect().width,itemBreakpoint=dropdownMenuWidth,i=0;itemsLength-3>=i;i++)itemBreakpoint+=navListItems[i].getBoundingClientRect().width,breakpoints.push(itemBreakpoint);var lastItemWidth=navListItems[itemsLength-2].getBoundingClientRect().width;return itemBreakpoint+=Math.abs(dropdownMenuWidth-lastItemWidth),breakpoints.push(itemBreakpoint),breakpoints},NavPriority.prototype.setupEventListeners=function(){window.addEventListener("resize",this.handleResize.bind(this))},NavPriority.prototype.handleResize=function(){Util.throttle(this.reflowNavigation.bind(this),delay),Util.debounce(this.reflowNavigation.bind(this),delay)},NavPriority.prototype.createOverflowList=function(){var overflowList=this.element.parentNode.querySelector(".navbar-nav-more ul");if(!overflowList){var menuId="nav-link-more-"+instances.length,menuHtml=this.options.dropdownMenuTemplate;menuHtml=menuHtml.replace("{{dropdownLabel}}",this.options.dropdownLabel).replace("{{dropdownMenuClass}}",this.options.dropdownMenuClass).replace(new RegExp("{{dropdownMenuId}}","g"),menuId);var lastItem=this.navList.children[this.navList.children.length-1];lastItem.setAttribute("class",lastItem.className+" is-last"),this.navList.innerHTML+=menuHtml,overflowList=this.navList.querySelector(".navbar-nav-more > ul")}return overflowList},NavPriority.prototype.addToOverflow=function(item,breakpoint){return this.overflowList.insertBefore(item,this.overflowList.firstChild),overflowItems.unshift(breakpoint),this.breakpoints.pop(),overflowItems},NavPriority.prototype.removeFromOverflow=function(item,breakpoint){return this.breakpoints.push(breakpoint),overflowItems.shift(),this.navList.insertBefore(item,this.navList.lastChild),overflowItems},NavPriority.prototype.toggleOverflowDropdown=function(condition){return this.overflowDropdown.parentNode.setAttribute("aria-hidden",condition)},NavPriority.prototype.reflowNavigation=function(){for(var containerWidth=Math.ceil(this.element.getBoundingClientRect().width-parseFloat(this.elementStyle.paddingLeft)-parseFloat(this.elementStyle.paddingRight)-this.options.containerWidthOffset),navListItems=this.navList.children,menuIndex=navListItems.length-1;menuIndex--;){var itemBreakpoint=this.breakpoints[menuIndex];itemBreakpoint>=containerWidth&&this.addToOverflow(navListItems[menuIndex],itemBreakpoint)}for(var overflowIndex=this.overflowList.children.length;overflowIndex--;)overflowItems[0]<containerWidth&&this.removeFromOverflow(this.overflowList.children[0],overflowItems[0]);this.toggleOverflowDropdown(0==this.overflowList.children.length)},NavPriority.prototype.destroy=function(){this.element.removeAttribute("data-nav"),window.removeEventListener("resize",this.handleResize);var overflowListChildren=this.overflowList.children;overflowListChildren.length&&this.removeFromOverflow(overflowListChildren);var dropdown=this.overflowDropdown.parentNode;return dropdown.parentNode.removeChild(dropdown),this.element},window.navPriority=function(selector,option){for(var elements=document.querySelectorAll(selector),i=0;i<elements.length;i++){var self=elements[i],options=Util.extend({},NavPriority.DEFAULTS,"object"==typeof option&&option),data=self.getAttribute("data-priority-nav");if(!data){var navPriority=new NavPriority(self,options);instances.push(navPriority),data=self.setAttribute("data-priority-nav",!0)}}return instances};var elements=document.querySelectorAll('[data-nav="priority"]');elements.length&&window.navPriority('[data-nav="priority"]')}(window,window.Util,document);