!function(window,document,undefined){"use strict";var Util={},throttled=!1;Util.throttle=function(callback,delay){throttled||(callback.call(),throttled=!0,setTimeout(function(){throttled=!1},delay))};var timeout;Util.debounce=function(callback,delay){timeout&&clearTimeout(timeout),timeout=setTimeout(callback,delay)},Util.extend=function(){for(var i=1;i<arguments.length;i++)for(var key in arguments[i])arguments[i].hasOwnProperty(key)&&(arguments[0][key]=arguments[i][key]);return arguments[0]},Util.isElement=function(obj){return!(!obj||1!==obj.nodeType)},window.Util=Util}(window,document),function(window,Util,document,undefined){"use strict";var delay=20,instances=[],resizeListener=null,NavPriority=function(element,options){if(this.options=options,this.element="string"==typeof element?document.querySelector(element):element,!Util.isElement(this.element))throw new Error("this.element has to be DOM Element");this.navList=this.element.querySelectorAll("ul")[0],this.overflowMenu=this.createOverflowMenu(),this.overflowList=this.overflowMenu.querySelectorAll("ul")[0],this.overflowDropdown=this.overflowMenu.querySelector("[data-nav-priority-toggle]"),this.elementStyle=window.getComputedStyle(this.element),this.breakpoints=this.getBreakpoints(),this.overflowBreakpoints=[],this.setupEventListeners(),this.reflowNavigation()};NavPriority.DEFAULTS={dropdownLabel:'More <i class="caret"></i>',dropdownMenuClass:"dropdown-menu dropdown-menu-right",dropdownMenuTemplate:'<li data-nav-priority-menu class="navbar-nav-more dropdown" aria-hidden="true"><a id="{{dropdownMenuId}}" href="#" class="navbar-toggle-more" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" data-nav-priority-toggle>{{dropdownLabel}}</a><ul class="{{dropdownMenuClass}}" aria-labelledby="{{dropdownMenuId}}"></ul></li>',containerWidthOffset:50},NavPriority.prototype.createOverflowMenu=function(){var overflowMenu=this.navList.querySelector("[data-nav-priority-menu]");if(!overflowMenu){var menuId="nav-link-more-"+instances.length,menuHtml=this.options.dropdownMenuTemplate;menuHtml=menuHtml.replace("{{dropdownLabel}}",this.options.dropdownLabel).replace("{{dropdownMenuClass}}",this.options.dropdownMenuClass).replace(new RegExp("{{dropdownMenuId}}","g"),menuId);var lastItem=this.navList.children[this.navList.children.length-1];lastItem.setAttribute("class",lastItem.className+" is-last"),this.navList.innerHTML+=menuHtml,overflowMenu=this.navList.querySelector("[data-nav-priority-menu]")}if(!overflowMenu)throw new Error("overflowMenu does not exist, check your custom dropdownMenuTemplate parameter");return overflowMenu},NavPriority.prototype.getBreakpoints=function(){for(var breakpoints=[],navListItems=this.navList.children,itemsLength=navListItems.length,dropdownMenuWidth=Math.ceil(navListItems[itemsLength-1].getBoundingClientRect().width),itemBreakpoint=dropdownMenuWidth,i=0;itemsLength-2>i;i++){var item=navListItems[i];itemBreakpoint+=Math.ceil(item.getBoundingClientRect().width),breakpoints.push(itemBreakpoint)}return itemBreakpoint+=Math.ceil(Math.abs(dropdownMenuWidth-navListItems[itemsLength-2].getBoundingClientRect().width)),breakpoints.push(itemBreakpoint),breakpoints},NavPriority.prototype.setupEventListeners=function(){resizeListener=this.handleResize.bind(this),window.addEventListener("resize",resizeListener)},NavPriority.prototype.handleResize=function(){Util.throttle(this.reflowNavigation.bind(this),delay),Util.debounce(this.reflowNavigation.bind(this),delay)},NavPriority.prototype.addToOverflow=function(item,breakpoint){return this.overflowList.insertBefore(item,this.overflowList.firstChild),this.overflowBreakpoints.unshift(breakpoint),this.breakpoints.pop(),this.overflowBreakpoints},NavPriority.prototype.removeFromOverflow=function(item,breakpoint){return this.breakpoints.push(breakpoint),this.overflowBreakpoints.shift(),this.navList.insertBefore(item,this.navList.lastChild),this.overflowBreakpoints},NavPriority.prototype.toggleOverflowDropdown=function(condition){return this.overflowMenu.setAttribute("aria-hidden",condition)},NavPriority.prototype.reflowNavigation=function(){if(!resizeListener)return!1;for(var containerWidth=Math.ceil(this.element.getBoundingClientRect().width-parseFloat(this.elementStyle.paddingLeft)-parseFloat(this.elementStyle.paddingRight)-this.options.containerWidthOffset),navListItems=this.navList.children,menuIndex=navListItems.length-1;menuIndex--;){var itemBreakpoint=this.breakpoints[menuIndex];itemBreakpoint>=containerWidth&&this.addToOverflow(navListItems[menuIndex],itemBreakpoint)}for(var overflowIndex=this.overflowList.children.length;overflowIndex--;)this.overflowBreakpoints[0]<containerWidth&&this.removeFromOverflow(this.overflowList.children[0],this.overflowBreakpoints[0]);this.toggleOverflowDropdown(0==this.overflowList.children.length)},NavPriority.prototype.destroy=function(){this.element.removeAttribute("data-nav-priority"),window.removeEventListener("resize",listener),listener=null;var overflowIndex=this.overflowList.children.length;if(overflowIndex)for(;this.overflowList.children.length;)this.removeFromOverflow(this.overflowList.children[0],this.overflowBreakpoints[0]);return this.toggleOverflowDropdown(0==this.overflowList.children.length),this.element},window.navPriority=function(selector,option){var elements=document.querySelectorAll(selector);if("string"==typeof option&&"destroy"==option){for(var i=0;i<instances.length;i++){var data=instances[i];data.destroy.call(data)}instances=[]}if("string"!=typeof option)for(var i=0;i<elements.length;i++){var self=elements[i],options=Util.extend({},NavPriority.DEFAULTS,"object"==typeof option&&option),data=self.getAttribute("data-nav-priority");if(!data){var navPriority=new NavPriority(self,options);instances.push(navPriority),data=self.setAttribute("data-nav-priority",!0)}}return instances}}(window,window.Util,document);